<section class="hero-carousel-container w-full bg-slate-100 relative overflow-hidden">
  <div *ngIf="banners.length > 0; else loader"
    class="relative w-full overflow-hidden min-h-[400px] md:min-h-[500px] lg:min-h-[600px]">

    <!-- Slides -->
    <div class="slides-container flex transition-transform duration-700 ease-in-out h-full"
      [style.transform]="'translateX(-' + currentIndex * 100 + '%)'">
      <div *ngFor="let banner of banners" class="slide w-full flex-shrink-0 flex items-center justify-center relative">
        <div
          class="max-w-7xl mx-auto w-full px-4 sm:px-6 md:px-16 lg:px-24 xl:px-32 flex flex-col md:flex-row items-center justify-between gap-12 py-12">

          <!-- Content -->
          <div class="flex-1 text-center md:text-left z-10 animate-fade-in-up">
            <h1 *ngIf="banner.title"
              class="text-4xl sm:text-5xl lg:text-7xl font-black text-slate-900 leading-none mb-6">
              {{ banner.title }}
            </h1>
            <p *ngIf="banner.subtitle" class="text-slate-600 text-lg md:text-xl mb-10 max-w-lg">
              {{ banner.subtitle }}
            </p>
            <a *ngIf="banner.link_url" [routerLink]="banner.link_url"
              class="inline-block bg-slate-900 text-white px-10 py-4 rounded-2xl font-bold hover:bg-black transition-all shadow-xl active:scale-95">
              Explorar ahora
            </a>
          </div>

          <!-- Image -->
          <div class="flex-1 relative flex justify-center items-center h-full">
            <div class="absolute w-[120%] aspect-square bg-slate-200/50 rounded-full blur-3xl -z-10 animate-pulse">
            </div>
            <img [src]="banner.image_url" [alt]="banner.title"
              class="w-full max-w-[500px] h-auto object-contain drop-shadow-2xl animate-float">
          </div>
        </div>
      </div>
    </div>

    <!-- Controls -->
    <div *ngIf="banners.length > 1"
      class="absolute inset-0 pointer-events-none flex items-center justify-between px-4 sm:px-8">
      <button (click)="prev()"
        class="pointer-events-auto bg-white/80 hover:bg-white p-3 rounded-full shadow-lg transition-all active:scale-90">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M15 19l-7-7 7-7" />
        </svg>
      </button>
      <button (click)="next()"
        class="pointer-events-auto bg-white/80 hover:bg-white p-3 rounded-full shadow-lg transition-all active:scale-90">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M9 5l7 7-7 7" />
        </svg>
      </button>
    </div>

    <!-- Indicators -->
    <div *ngIf="banners.length > 1" class="absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-2.5">
      <button *ngFor="let b of banners; let i = index" (click)="goTo(i)"
        [class]="i === currentIndex ? 'w-10 bg-slate-900' : 'w-2.5 bg-slate-300 hover:bg-slate-400'"
        class="h-2.5 rounded-full transition-all duration-300"></button>
    </div>
  </div>

  <ng-template #loader>
    <div class="w-full h-[500px] flex items-center justify-center">
      <div class="animate-spin rounded-full h-10 w-10 border-4 border-slate-200 border-t-slate-900"></div>
    </div>
  </ng-template>
</section>