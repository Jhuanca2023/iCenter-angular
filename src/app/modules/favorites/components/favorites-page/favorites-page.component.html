<div class="container mx-auto p-4">
  <h1 class="text-3xl font-bold mb-6">Mis Favoritos</h1>

  <div class="flex flex-col md:flex-row gap-6">
    <!-- Sidebar de Carpetas -->
    <div class="w-full md:w-1/4 bg-white rounded-lg shadow-sm p-4 border border-orange-100/50">
      <h2 class="text-xl font-semibold mb-4">Carpetas</h2>
      <ul>
        <li class="mb-2">
          <button 
            (click)="selectFolder('')" 
            [class.font-bold]="currentFolder === ''"
            class="w-full text-left py-2 px-3 rounded-md hover:bg-orange-50 transition-colors">
            Todos los favoritos ({{ favorites.length }})
          </button>
        </li>
        <li *ngFor="let folder of favoriteFolders" class="mb-2">
          <button 
            (click)="selectFolder(folder.path)" 
            [class.font-bold]="currentFolder === folder.path"
            class="w-full text-left py-2 px-3 rounded-md hover:bg-orange-50 transition-colors">
            {{ folder.name }} ({{ folder.productCount }})
          </button>
        </li>
      </ul>
    </div>

    <!-- Contenido Principal de Favoritos -->
    <div class="w-full md:w-3/4">
      <div *ngIf="filteredFavorites.length === 0" class="text-center text-gray-500 py-10">
        <p class="text-lg">No tienes productos en esta carpeta de favoritos.</p>
        <p>¡Explora nuestros productos y añade tus favoritos!</p>
      </div>

      <div *ngIf="filteredFavorites.length > 0" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <app-product-card 
          *ngFor="let favorite of filteredFavorites" 
          [product]="favorite.product!"
          class="flex">
        </app-product-card>
      </div>
    </div>
  </div>
</div>